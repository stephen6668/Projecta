<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Produkt — Projecta Halskette</title>
  <meta name="description" content="Elegant, sicher und personalisierbar - Premium Sicherheitshalsketten von Projecta" />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Playfair+Display:wght@400;600;700&display=swap" rel="stylesheet">
<style>
  :root {
    --bg-primary: #0A0A0A;
    --bg-secondary: #1A1A1A;
    --accent-primary: #CFA15A;
    --accent-secondary: #CCCCCC;
    --gold: #CFA15A;
    --gold-light: #E6C98D;
    --white: #FFFFFF;
    --shadow-light: rgba(255, 255, 255, 0.08);
    --shadow-medium: rgba(255, 255, 255, 0.12);
    --shadow-dark: rgba(255, 255, 255, 0.2);
    --border-radius: 16px;
    --border-radius-sm: 8px;
    --container-width: 1200px;
    --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    --font-primary: 'Inter', sans-serif;
    --font-secondary: 'Playfair Display', serif;
  }

  body {
    margin: 0;
    padding: 0;
    font-family: var(--font-primary);
    font-size: 1rem;
    line-height: 1.6;
    color: var(--white);
    background: var(--bg-primary);
  }

  h1, h2, h3 {
    font-family: var(--font-secondary);
    font-weight: 700;
    color: var(--gold);
  }

  .site-header {
    background: #0A0A0A;
    color: var(--white);
    box-shadow: 0 4px 24px var(--shadow-light);
  }

  .brand {
    color: var(--gold);
  }

  .brand:hover {
    color: var(--gold-light);
  }

  .burger span {
    background: var(--white);
  }

  .burger.active span:nth-child(1),
  .burger.active span:nth-child(3) {
    background: var(--gold);
  }

  .sidebar-menu {
    background: #0A0A0A;
    color: var(--white);
    box-shadow: -8px 0 32px var(--shadow-medium);
  }

  .sidebar-nav a {
    color: var(--white);
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
  }

  .sidebar-nav a:hover,
  .sidebar-nav a.active {
    color: var(--gold);
  }

  .product-section {
    background: linear-gradient(135deg, var(--bg-primary), var(--bg-secondary));
  }

  .main-image {
    background: #111;
    box-shadow: 0 16px 48px var(--shadow-light);
  }

  .main-image::before {
    background: linear-gradient(90deg, var(--gold), var(--gold-light));
  }

  .product-box {
    background: #0A0A0A;
    color: var(--white);
    box-shadow: 0 16px 48px var(--shadow-light);
  }

  .product-box::before {
    background: linear-gradient(90deg, var(--gold), var(--gold-light));
  }

  .product-box h1 {
    color: var(--gold);
  }

  .product-description {
    color: var(--white);
  }

  .option-group label {
    color: var(--gold);
  }

  .option-group select,
  .option-group input {
    background: #111;
    color: var(--white);
    border: 1px solid rgba(207, 161, 90, 0.3);
  }

  .btn-primary {
    background: linear-gradient(135deg, var(--gold), var(--gold-light));
    color: var(--white);
    box-shadow: 0 8px 24px rgba(207, 161, 90, 0.3);
  }

  .btn-primary:hover {
    box-shadow: 0 12px 32px rgba(207, 161, 90, 0.4);
  }

  .cart-notification {
    background: rgba(76, 175, 80, 0.95);
    color: white;
  }

  .menu-overlay {
    background: rgba(0, 0, 0, 0.4);
  }

  .thumbs img:hover,
  .thumbs img.active {
    border-color: var(--gold);
  }

  @keyframes fadeInUp {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
  }

  .product-box, .product-gallery {
    opacity: 0;
    animation: fadeInUp 0.8s ease-out forwards;
  }

  @media (max-width: 1024px) {
    .product-detail {
      grid-template-columns: 1fr;
    }
  }

  @media (max-width: 768px) {
    .sidebar-menu {
      width: 280px;
    }
  }

  @media (max-width: 480px) {
    .sidebar-menu {
      width: 100vw;
    }
  }
</style>
</head>
<body>

  <header class="site-header">
    <div class="container header-inner">
      <a href="index.html" class="brand">
        <img src="images/Logo.png" alt="Projecta Logo" class="logo">
        <span class="brand-text">Projecta</span>
      </a>
      <button id="burger" class="burger">
        <span></span><span></span><span></span>
      </button>
    </div>
  </header>

  <div id="menu-overlay" class="menu-overlay"></div>
  <nav id="sidebar-menu" class="sidebar-menu">
    <div class="sidebar-nav">
      <a href="index.html">Home</a>
      <a href="product.html">Armband</a>
      <a href="necklace.html" class="active">Halskette</a>
      <a href="cart.html">Warenkorb</a>
      <a href="about.html">Über Uns</a>
      <a href="contact.html">Kontakt</a>
      <a href="product-future.html">Zukünftige Produkte</a>
      <a href="admin.html">Admin</a>
    </div>
  </nav>

  <main>
    <section class="product-section">
      <div class="container">
        <div class="product-detail">

          <div class="product-gallery">
            <div class="main-image">
              <img id="zoom-image" 
                   data-cms-id="necklace-main-img" 
                   data-cms-type="image"
                   src="images/halskette1.png" 
                   alt="Projecta Halskette" />
            </div>
            <div class="thumbs">
              <img src="images/Kette.png" 
                   data-cms-id="necklace-thumb1" 
                   data-cms-type="image"
                   data-full="images/Kette.png" 
                   alt="Thumbnail 1" 
                   class="active">
              <img src="images/halskette2.png" 
                   data-cms-id="necklace-thumb2" 
                   data-cms-type="image"
                   data-full="images/halskette2.png" 
                   alt="Thumbnail 2">
              <img src="images/halskette3.jpg" 
                   data-cms-id="necklace-thumb3" 
                   data-cms-type="image"
                   data-full="images/halskette3.jpg" 
                   alt="Thumbnail 3">
            </div>
          </div>

          <div class="product-info">
            <div class="product-box">
              <h1 id="product-title" 
                  data-cms-id="necklace-title" 
                  data-cms-type="text">
                Safety-Halskette
              </h1>
              <p class="price" 
                 id="product-price" 
                 data-cms-id="necklace-price" 
                 data-cms-type="price">
                €95.00
              </p>
              <div class="product-description" 
                   id="product-desc" 
                   data-cms-id="necklace-desc" 
                   data-cms-type="textarea">
                Elegant, diskret und lebensrettend: Unsere Premium Sicherheitshalskette kombiniert zeitloses Design mit modernster Notfalltechnologie.
              </div>

              <div class="product-options">
                <div class="option-group">
                  <label for="quantity">Menge</label>
                  <input id="quantity" type="number" min="1" value="1">
                </div>
                <div class="option-group">
                  <label for="chain-length">Kettenlänge</label>
                  <select id="chain-length">
                    <option value="40cm">40 cm - Kurz</option>
                    <option value="45cm" selected>45 cm - Standard</option>
                    <option value="50cm">50 cm - Lang</option>
                    <option value="55cm">55 cm - Extra Lang</option>
                  </select>
                </div>
                <div class="option-group">
                  <label for="chain-color">Kettenfarbe</label>
                  <select id="chain-color">
                    <option value="silber">Silber</option>
                    <option value="gold">Gold</option>
                    <option value="rosegold">Roségold</option>
                    <option value="schwarz">Schwarz</option>
                  </select>
                </div>
                <div class="option-group">
                  <label for="engraving">Textgravur (optional)</label>
                  <input type="text" id="engraving" placeholder="Dein Text (max. 30 Zeichen)" maxlength="30" />
                </div>
                <div class="btn-group">
                  <button id="add-to-cart" class="btn btn-primary">In den Warenkorb</button>
                </div>
              </div>
            </div>
          </div>

        </div>
      </div>
    </section>
  </main>

  <div id="cart-notification" class="cart-notification">
    ✅ Produkt wurde erfolgreich zum Warenkorb hinzugefügt!
  </div>

  <!-- Appwrite CMS Integration -->
  <script src="https://cdn.jsdelivr.net/npm/appwrite@14.0.1"></script>
  <script src="js/cms-loader.js"></script>

  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const burger = document.getElementById('burger');
      const sidebarMenu = document.getElementById('sidebar-menu');
      const menuOverlay = document.getElementById('menu-overlay');

      function toggleMenu() {
        burger.classList.toggle('active');
        sidebarMenu.classList.toggle('active');
        menuOverlay.classList.toggle('active');
      }

      function closeMenu() {
        burger.classList.remove('active');
        sidebarMenu.classList.remove('active');
        menuOverlay.classList.remove('active');
      }

      burger.addEventListener('click', toggleMenu);
      menuOverlay.addEventListener('click', closeMenu);
      
      document.querySelectorAll('.sidebar-nav a').forEach(link => {
        link.addEventListener('click', closeMenu);
      });

      // Thumbnail-Galerie mit CMS-Support
      setTimeout(() => {
        document.querySelectorAll('.thumbs img').forEach(thumb => {
          thumb.addEventListener('click', function() {
            document.querySelectorAll('.thumbs img').forEach(img => {
              img.classList.remove('active');
            });
            this.classList.add('active');
            const fullImage = this.getAttribute('data-full') || this.src;
            document.getElementById('zoom-image').src = fullImage;
          });
        });
      }, 1000);

      // Cart functionality
      let cart = JSON.parse(localStorage.getItem('projecta-cart') || '[]');

      function showNotification(message) {
        const notification = document.getElementById('cart-notification');
        notification.textContent = message;
        notification.classList.add('show');
        setTimeout(() => notification.classList.remove('show'), 3000);
      }

      document.getElementById("add-to-cart").addEventListener("click", function() {
        const productTitle = document.getElementById("product-title").textContent.trim();
        const productPriceText = document.getElementById("product-price").textContent;
        const price = parseFloat(productPriceText.replace('€', '').replace(',', '.'));
        const quantity = parseInt(document.getElementById("quantity").value);
        const chainLength = document.getElementById("chain-length").value;
        const chainColor = document.getElementById("chain-color").value;
        const engraving = document.getElementById("engraving").value.trim();
        const image = document.getElementById("zoom-image").src;

        if (quantity < 1) {
          alert("Bitte wähle eine gültige Menge aus.");
          return;
        }

        const product = {
          id: 'safety-necklace-' + Date.now(),
          productId: 'safety-necklace',
          name: productTitle,
          price: price,
          quantity: quantity,
          chainLength: chainLength,
          chainColor: chainColor,
          engraving: engraving,
          image: image,
          description: 'Premium Sicherheitshalskette mit GPS-Ortung'
        };

        cart.push(product);
        localStorage.setItem('projecta-cart', JSON.stringify(cart));
        showNotification(`✅ "${product.name}" wurde zum Warenkorb hinzugefügt!`);
      });
    });
  </script>
</body>
</html>
